/*
sh '''
#!/bin/bash
set -e
set +x

echo "ğŸ“‚ Jenkins workspace:"
pwd
ls -la


echo "ğŸ“ Verifying docker-compose.yml"
ls -l docker-compose.yml

echo "ğŸ” Docker login"
echo "$NEXUS_PASSWORD" | docker login "$LMS_REGISTRY_URL" \
  -u "$NEXUS_USERNAME" --password-stdin

export backendImage="$LMS_REGISTRY_URL/repository/$LMS_DOCKER_REPO/awrs-backend:$BUILD_NUMBER"
export frontendImage="$LMS_REGISTRY_URL/repository/$LMS_DOCKER_REPO/awrs-frontend:$BUILD_NUMBER"

echo "ğŸ§¹ Cleaning old containers"
docker compose down || true

echo "ğŸ“¥ Pulling latest images"
docker compose pull

echo "ğŸš€ Starting services"
docker compose up -d

echo "ğŸ“Š Container status"
docker ps
'''
*/


/*
echo "ğŸ—„ï¸ Running Prisma migrations (one-time)..."
docker run --rm \
  --network awrs-net \
  -e DATABASE_URL="postgresql://postgres:postgres123@awrs-postgres:5432/mydb" \
  "$LMS_REGISTRY_URL/repository/$LMS_DOCKER_REPO/awrs-backend:$BUILD_NUMBER" \
  npx prisma migrate deploy 
  */
